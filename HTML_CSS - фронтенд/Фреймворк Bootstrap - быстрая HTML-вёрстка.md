[[Питон Практикум]]
[[Веб-страницы - язык HTML]]


Одно из популярных решений — [фреймворк Bootstrap](https://getbootstrap.com/). Его идея проста:

1. Bootstrap предоставляет разработчику файл с готовыми CSS-стилями.
2. Разработчик подключает этот CSS-файл к своим HTML-страницам.
3. В HTML-тегах своих страниц разработчик указывает определённые классы, **предустановленные в Bootstrap** (их описание и назначение есть в документации), — и в результате элемент страницы приобретает нарядный вид.

При работе с Bootstrap основная задача — найти подходящий стиль оформления элемента, перенести его в свою вёрстку и, возможно, чуть-чуть подправить.

Альбомы, шаблоны для блога, магазины — есть заготовки на все случаи жизни.


Посмотреть на эту красоту можно [в специальном разделе на сайте Bootstrap](https://getbootstrap.com/docs/5.1/examples/).

Сайт на Bootstrap не будет обладать выдающейся индивидуальностью, но будет выглядеть вполне прилично, а для работы с ним достаточно знать основные принципы HTML и CSS.


### Как подключить Bootstrap

Есть два способа подключить файл со стилями. Можно скачать файл _bootstrap.css_, сохранить и подключить его из локальной директории:


```html
<head>
  ...
  <link rel="stylesheet" href="css/bootstrap.css"> 
  ...
</head>
```

А можно подключить CSS-файл, расположенный на сервере Bootstrap:

```html
<head>
  ...
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
    crossorigin="anonymous">
  ...
</head>
```


Инструкции по подключению файлов со стилями [есть в документации](https://getbootstrap.com/docs/5.1/getting-started/introduction/#starter-template).


Пример работы:

```html
<div>
  <h5>Аксентий Поприщин</h5>
  <div>
    <h6>43 апреля 2000 года</h6>
    <p>
      Сегодняшний день — есть день величайшего торжества!
      В Испании есть король. Он отыскался. Этот король я.
      Именно только сегодня об этом узнал я.
    </p>
    <a href="">Читать целиком</a>
  </div>
</div>
```

Если к этому коду подключить файл Bootstrap и добавить в HTML классы из фреймворка, страница приобретёт приличный вид. Подходящие классы [найдём в документации](https://getbootstrap.com/docs/5.1/components/card/).

```html
<div class="card col-6">
  <h5 class="card-header">Аксентий Поприщин</h5>  
  <div class="card-body">
    <h6 class="card-subtitle">43 апреля 2000 года</h6>
    <p>
      Сегодняшний день — есть день величайшего торжества!
      В Испании есть король. Он отыскался. Этот король я.
      Именно только сегодня об этом узнал я.
    </p>
    <a href="" class="btn btn-primary">Читать целиком</a>
  </div>
</div>
```


![[Pasted image 20250427172953.png]]



## Сетка Bootstrap

Создадим в коде два блока `div` и покрасим их в разные цвета: так будет удобнее наблюдать за их поведением:


```html
<div style="background: green;">Первый блок div</div>
<div style="background: yellow;">Второй блок div</div>
```


По умолчанию блоки `div` в HTML занимают всю ширину страницы и располагаются один под другим:


![[Pasted image 20250427173058.png]]


Дополним код так, чтобы блоки расположились в одну строку:

- обернём цветные блоки в `div` с классом `row` (англ. _row_, «строка», как «строка в таблице»): в Bootstrap полагается объединять колонки в общий блок;
- добавим к цветным блокам классы `col-3` и `col-9`: теперь они превратятся в колонки.

```html
<!-- Служебный класс row («строка») применяется для объединения блоков-колонок -->
<div class="row">
  <div class="col-3" style="background: green;">Первый блок div</div>
  <div class="col-9" style="background: yellow;">Второй блок div</div>
</div>
```


![[Pasted image 20250427173200.png]]


> Bootstrap работает с двенадцатиколоночной сеткой.


Если суммарная ширина колонок превысит 12/12, лишние колонки будут перенесены на новую строку


Для всех колонок можно указать просто класс `col`. Тогда колонки пропорционально разделят ширину родительского блока.

Например, такой код отобразит на странице три колонки одинаковой ширины:


```html
<div class="row">
  <div class="col" style="background: green;">Первая колонка</div>
  <div class="col" style="background: yellow;">Вторая колонка</div>
  <div class="col" style="background: red;">Третья колонка</div>
</div>
```


### Адаптивность в Bootstrap


На широком мониторе выгодно выстроить информацию в три или четыре колонки, а на экране мобильника лучше размещать содержимое не колонками, а «столбом», один блок под другим.


Предположим, в техническом задании на создание интернет-магазина есть требования:

- на больших экранах товары должны располагаться в четыре колонки;
- на планшетах — в две;
- на телефонах — в одну колонку.

Такое поведение можно запрограммировать с помощью классов Bootstrap: достаточно добавить классам `col` модификаторы, в которых описано, какую ширину должна занять колонка в зависимости от ширины экрана.

Для каждого диапазона размеров экрана предусмотрено своё сокращённое обозначение; имена классов в Bootstrap построены по принципу `col-<размер дисплея>-<ширина>` (имена классов всегда можно [подсмотреть в документации](https://getbootstrap.com/docs/5.0/layout/grid/#grid-options)).


```html
<div class="row">
  <div class="col-12 col-md-6 col-xl-3">Первый товар</div>
  <div class="col-12 col-md-6 col-xl-3">Второй товар</div>
  <div class="col-12 col-md-6 col-xl-3">Третий товар</div>
  <div class="col-12 col-md-6 col-xl-3">Четвёртый товар</div>
</div>
```


- **col-12**: этот класс — для экранов от 1px в ширину и более. Блок с классом `col-12` будет занимать всю ширину экрана (12 колонок). Если бы не было указано других классов, этот класс работал бы на дисплеях любого размера.
- **col-md-6**: на экранах шириной `md` (это размер экранов более 768px по горизонтали) блок будет занимать половину ширины экрана, значит, в строку уместится две такие колонки.
- **col-xl-3**: на больших мониторах (размером более 1200px по горизонтали) эта колонка займёт 3 колонки из 12 доступных, значит, в строку уместится четыре такие колонки.

Чтобы адаптивность работала корректно, в тег `head` надо добавить метатег `viewport`. Без него всё пойдёт не так.


```html
<head>
  ...
   <meta name="viewport" content="width=device-width, initial-scale=1">
  ...
</head>
```


### Контейнеры

По умолчанию блоки HTML (`div`, `p`, заголовки и любые семантические блоки) стремятся занять всю доступную ширину окна браузера.

Но не стоит позволять веб-странице растягиваться на всю ширину экрана: владельцу большого монитора будет неудобно читать длинные строки; даже если просто крутить головой, разглядывая картинки, — шея устанет. Для ограничения ширины страницы в Bootstrap принято заключать содержимое в элемент-обёртку с классом `container`.


```html
<div class="container">
  <!-- Информация будет удобно жить тут -->
</div>
```

> Обратите внимание на порядок подключения стилей: сначала стили Bootstrap, потом ваш собственный файл со стилями, потом стили в теге `<style>`. При конфликте стилей в приоритете будут те правила, которые описаны последними, а стили, которые пишет разработчик, должны быть приоритетнее стилей фреймворка.



### Как сделать пункты меню активными

Пользователь должен понимать, в каком разделе сайта он находится. Для этого текущий пункт меню «подсвечивают» — например, выделяют его цветом. В коде это обычно реализуют так: к нужному элементу добавляют класс `active` и свойства этого класса описывают в CSS.

В Bootstrap необходимые стили уже описаны, так что можно просто указать нужный класс.

Вот так можно подсветить пункт меню «Главная»:


```html
<li class="nav-item">
  <a class="nav-link active" href="{% url 'homepage:index' %}">Главная</a>
</li>
```


Но навигация сохранена в отдельном шаблоне и подключена через `{{% include %}}`; значит, один и тот же шаблон с навигацией будет применён и для главной страницы, и для всех остальных. Как узнать, какой пункт меню подсвечивать?

Django [позволяет узнать имя view-функции](https://docs.djangoproject.com/en/3.2/ref/urlresolvers/#django.urls.ResolverMatch), которая вызвала текущий шаблон. Это имя доступно в переменной шаблона `{{ request.resolver_match.view_name }}`.

Чтобы решить, подсвечивать пункт меню или нет, достаточно выполнить проверку: если адрес view-функции, вызвавшей шаблон, совпадёт с `homepage:index`, то в тег `<a>` нужно дописать класс `active`.


```html
<li class="nav-item">
  <a class="nav-link     
     {% if request.resolver_match.view_name  == 'homepage:index' %}
       active
     {% endif %}"
     href="{% url 'homepage:index' %}">
     Главная
  </a>
</li>
```


Если проводить такую проверку в каждом пункте меню, код будет громоздким. Сократить его поможет тег шаблонов `{% with ... as ... %}`. Этот тег позволяет для любого выражения создать короткий синоним: `{% with очень_длинное_выражение as синоним %}`; этот синоним можно применять до закрывающего тега `{% endwith %}`.

В области действия тега `{% with %}` имя `view_name` будет применяться вместо выражения `request.resolver_match.view_name`:


```html
<!-- Создаём синоним для выражения request.resolver_match.view_name -->
{% with request.resolver_match.view_name as view_name %}
...
<li class="nav-item">
  <a class="nav-link {% if view_name  == 'homepage:index' %}active{% endif %}"
     href="{% url 'homepage:index' %}">
     Главная
  </a>
</li>
...
{% endwith %}
```


