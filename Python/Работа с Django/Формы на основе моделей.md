
[[Питон Практикум]]
[[Фреймворк Django. Работа с проектами]]


Одна из самых востребованных задач, которая решается с помощью форм, — это добавление и редактирование записей в базе данных. Пользователь социальной сети отправляет через форму рассказ о своём котике — и текст сохраняется в БД. Сотрудник отдела кадров вносит изменения в карточку какого-то конкретного работника — и данные обновляются в базе.

Если выполнять эти операции с применением класса `Form`, то придётся синхронизировать форму и модель: нужно будет создать такую форму, поля которой строго соответствуют полям модели:

- по типу данных,
- по ограничениям на ввод,
- по обязательности полей...

Но это не всё: при каждом изменении полей модели нужно будет менять и форму, а это не очень практично.

После получения данных из формы нужно будет создать объект модели или получить его из БД, а затем передать в него нужную информацию из формы. Если в проекте есть штук двадцать форм, связанных с моделями, — рано или поздно обязательно захочется всё это автоматизировать.


Описание формы на основе класса **Form** очень похоже на описание модели. И у формы, и у модели есть поля; типы полей описываются похожими классами; параметры полей тоже похожие. И это неспроста: фреймворк Django может автоматически конструировать **формы на основе моделей**!

Вместо того чтобы в отдельном классе описывать поля формы — можно указать на определённую модель и сказать: «Django, мне нужна форма с такими же полями, как в этой модели!» И Django создаст такую форму.

Более того: Django предоставит готовые инструменты, позволяющие передавать данные из такой формы в объект модели — и сохранять эти данные в БД.


Прежде чем перейти к разбору форм на основе моделей — несколько слов в защиту обычного класса `Form`. Не стоит их списывать со счетов, они хороши для операций, не связанных с изменением базы данных. Например, на основе `Form` удобно создать форму для поиска: из формы отправляется GET-запрос с ключевым словом, view-функция получает параметр (текстовую строку) из запроса, делает запрос в БД — и возвращает пользователю найденные в БД записи. Класс `Form` пригодится везде, где запись в базу не является обязательным действием (но в ряде случаев может присутствовать):

- поле для подписки на рассылку новостей,
- отправка сообщения напрямую со страницы сайта,
- онлайн-тесты,
- всевозможные генераторы текстов или рифм…

