# Виртуальное окружение

Когда вы впервые устанавливаете Python, вы создаете свое первичное глобальное окружение. Все пакеты, установленные в этом окружении, а также сам интерпретатор Python доступны любой программе на Python, которую вы запускаете на этом компьютере.


Теперь можно развернуть виртуальное окружение. Выполните в терминале команду:


```
# Папка, в которой должна быть выполнена команда: .../Dev/first_project.

# Команда для Windows:
python -m venv venv
# Это не опечатка! Первый 'venv' - это часть команды (имя модуля).
# А второй 'venv' - это имя директории, где оно будет создано.

# Команда для Linux и macOS:
python3 -m venv venv 
```


## Активация виртуального окружения

Виртуальное окружение готово к использованию, однако пока ещё не работает. Для начала работы его необходимо активировать; до активации конкретного виртуального окружения вы работаете в глобальном окружении.

Для этого в VS Code, находясь в корневой директории проекта _first_project_, введите в терминал команду:


```
# Директория, в которой вы должны находиться: ...Dev/first_project.

# Команда для Windows:
source venv/Scripts/activate

# Для Linux и macOS:
source venv/bin/activate 
```





### Эксперименты с библиотекой pytest

В нашем курсе тестирование домашних работ выполняется при помощи библиотеки **pytest** — это инструмент для создания автоматических тестов и для управления ими. Фактически с помощью pytest пишутся и запускаются программы, которые проверяют правильность работы других программ.



Для установки модуля или библиотеки при помощи пакетного менеджера нужно выполнить команду в терминале.

В общем виде эта команда выглядит так:



```
pip install <название модуля> 
```



## Установка pytest

В активированное виртуальное окружение проекта _first_project_ установите библиотеку **pytest**. Для этого в терминале можно выполнить команду:


```
pip install pytest==7.1.3 
```

По этой команде в виртуальное окружение проекта будет установлена именно та версия библиотеки, которую мы применяем для тестирования домашних заданий.

Если не указывать версию библиотеки — будет установлена самая свежая версия:


```
pip install pytest 
```


Потом может попросить обновить pip:

Чтобы обновить пакетный менеджер, введите команду:

```
# Для Windows:
python -m pip install --upgrade pip

# Для Linux и macOS:
python3 -m pip install --upgrade pip 
```

Список библиотек
После обновления можно посмотреть, какие вообще библиотеки установлены в ваше виртуальное окружение:


```
pip list 
```


Pytest.ini

В файле _pytest.ini_ хранятся настройки библиотеки. 

Пример:

```
[pytest]
addopts = -vv -p no:cacheprovider 
```


Requirements:

Чтобы создать файл, выполните команду в активированном виртуальном окружении проекта _first_project_:


```
pip freeze > requirements.txt 
```

	Если скачиваем requirements, то 
После того как новое окружение будет создано, активируйте его и выполните команду:

```
pip install -r requirements.txt 
```