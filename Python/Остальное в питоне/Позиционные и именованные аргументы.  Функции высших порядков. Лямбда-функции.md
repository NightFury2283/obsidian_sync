
В Python есть возможность задать для аргументов значение по умолчанию. Если значение для такого аргумента при вызове функции не передаётся, то используется значение по умолчанию. Пусть в нашей функции будет скидка по умолчанию 1%. Тогда программа запишется так:

```python
def final_price(price, discount=1):
    return price - price * discount / 100


print(final_price(1000, 5))
# Значение скидки не задано, используется значение по умолчанию
print(final_price(1000))
```

Вывод программы:

950.0
990.0


Именованные параметры

Часто в функции передаётся большое количество аргументов, и вспомнить порядок их перечисления в функции бывает сложно. В Python есть возможность передать значение аргумента по его имени. В таком случае аргумент становится уже не позиционным, а именованным. Именованному аргументу присваивается значение при вызове функции.

Используем именованные аргументы в нашей функции из примера про скидки:

```python
def final_price(price, discount=1):
    return price - price * discount / 100


print(final_price(1000, discount=5))
print(final_price(discount=10, price=1000))
```

Вывод программы:

950.0
900.0


### Любое кол-во позиционных параметров

Рассмотрим первый случай: функция принимает любое количество позиционных аргументов. Такой функцией, например, является стандартная функция `print()`, так как она может принимать любое количество выводимых строк-аргументов. Чтобы указать, что функция может принимать неограниченное количество позиционных аргументов, нужно при её объявлении поставить аргумент с `*`. К примеру, `*args`. В функции этот аргумент будет кортежем, содержащим переданные значения позиционных аргументов.

Модифицируем нашу функцию из примера про скидки так, чтобы мы могли передать в неё любое количество цен, а вернуть список цен со скидкой:

```
def final_price(*prices, discount=1):
    return [price - price * discount / 100 for price in prices]


print(final_price(100, 200, 300, discount=5))
```

Вывод программы:

[95.0, 190.0, 285.0]


### Любое кол-во именованных параметров:

Чтобы функция могла принимать неограниченное количество именованных аргументов, нужно при её объявлении поставить аргумент с `**`. Например, `**kwargs` (сокращение от keyword arguments). В функции этот аргумент будет словарём, ключи которого будут строками, содержащими имена передаваемых аргументов, а значения по ключам будут соответствовать значениям передаваемых аргументов.

Добавим в нашу функцию возможность принимать границы диапазона цен, для которых рассчитывается скидка. Вернём список только рассчитанных со скидкой цен. Границы диапазона будут передаваться в аргументах `price_low` и `price_high`. Если нижняя или правая граница не передана, то используем минимальную и максимальную стоимость из позиционных аргументов:

```python
def final_price(*prices, discount=1, **kwargs):
    low = kwargs.get("price_low", min(prices))
    high = kwargs.get("price_high", max(prices))
    return [price - price * discount / 100 for price in prices if low <= price <= high]


print(final_price(100, 200, 300, 400, 500, discount=5))
print(final_price(100, 200, 300, 400, 500, discount=5, price_low=200))
print(final_price(100, 200, 300, 400, 500, discount=5, price_high=200))
print(final_price(100, 200, 300, 400, 500, discount=5, price_low=200, price_high=350))
```


Вывод программы:

[95.0, 190.0, 285.0, 380.0, 475.0]
[190.0, 285.0, 380.0, 475.0]
[95.0, 190.0]
[190.0, 285.0]



В Python аргументом функции может быть другая функция. Обратите внимание, что мы говорим именно о самой функции, а не о возвращаемом ею значении. Для того чтобы передать функцию как аргумент, нужно указать значением аргумента имя функции без круглых скобок. Так мы не будем вызывать функцию, а передадим ссылку на неё. Функции, которые принимают аргументы-функции, называют функциями высшего порядка.

Рассмотрим пару полезных встроенных функций высшего порядка. Функция `filter()` позволяет отобрать элементы из итерируемого объекта по некоторому критерию. Результат работы функции — итератор. Критерий отбора — функция, возвращающая значения логического типа. Функция `filter()` последовательно проверяет значение функции-критерия для каждого элемента, и при значении `True` элемент попадает в выходной итератор. Напишем программу, которая выберет из списка целых чисел только положительные:

```python
def only_pos(x):
    return x > 0


result = filter(only_pos, [-1, 5, 6, -10, 0])
print(", ".join(str(x) for x in result))
```


Вывод программы:

5, 6


### Лямбда-функции Lambda-функции

Для передачи нестандартной функции в функцию высшего порядка нужно её объявить и описать тело этой функции. В Python для объявления небольших функций, требующихся для функций высшего порядка, можно использовать лямбда-функции. Это, как правило, безымянные, используемые один раз в коде функции. Синтаксически при объявлении они записываются в одну строку. Например:

```python
lambda x: x > 0
```


При объявлении лямбда-функции указывается ключевое слово `lambda`, затем перечисляются аргументы функции, затем двоеточие и пробел, а далее указывается возвращаемое функцией значение (`return` не используется).

Лямбда-функции обычно объявляются прямо внутри функции высшего порядка. Перепишем примеры для функций `filter()` и `map()` с использованием лямбда-функций:

```python
result = filter(lambda x: x > 0, [-1, 5, 6, -10, 0])
print(", ".join(str(x) for x in result))
```

Вывод программы:

5, 6

```python
result = map(lambda x: x ** 2, range(5))
print(", ".join(str(x) for x in result))
```

Вывод программы:

0, 1, 4, 9, 16



Напишем программу для сортировки списка строк по длине строки в порядке возрастания:

```python
lines = ["abcd", "ab", "abc", "abcdef"]
print(sorted(lines, key=lambda line: len(line)))
```

Вывод программы:

['ab', 'abc', 'abcd', 'abcdef']



С помощью аргумента `key` можно задать несколько критериев сортировки одновременно. Для этого в лямбда-функции нужно вернуть кортеж значений в порядке приоритета критериев. Напишем программу, которая сортирует список строк, состоящих из строчных букв латинского алфавита, по возрастанию длины, а если длина одинакова, то по алфавиту.

```python
lines = ["abcd", "ab", "ba", "acde"]
print(sorted(lines, key=lambda line: (len(line), line)))
```

Вывод программы:

['ab', 'ba', 'abcd', 'acde']



Если по числовому критерию (например, длина строки) нужно поменять направление сортировки, то можно просто поставить минус перед возвращаемым значением в лямбда-функции. Отсортируем список строк по убыванию длины, а если длина одинакова, то по алфавиту:

```python
lines = ["abcd", "ab", "ba", "acde"]
print(sorted(lines, key=lambda line: (-len(line), line)))
```

Вывод программы:

['abcd', 'acde', 'ab', 'ba']



Аргумент `key` есть и у метода `sort()` (меняет исходный список на отсортированный), а также у функций `max()` и `min()`. Найдём в списке строк самую длинную, а если таких несколько, то лексикографически меньшую:

```python
lines = ["abcd", "ab", "ba", "acde"]
print(min(lines, key=lambda line: (-len(line), line)))
```

Вывод программы:

abcd







[[Lambda-функции]]
[[Python]]
[[Яндекс Контест]]
[[Методы класса]]
