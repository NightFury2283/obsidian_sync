[[Фреймворк Django. Работа с проектами]]
[[Python]]
[[API]]
[[Питон Практикум]]

дочитать потом

В процессе работы вы уже отправляли запросы к серверам — из браузера, если в ответ ожидалась HTML-страница, или из кода посредством библиотеки _requests_ (когда ответ сервера надо было обработать в коде).

Для отправки запросов есть и специальные программы, заточенные под работу с API.

Такие программы можно условно разделить на консольные (такие как **curl** и **httpie**), встраиваемые (плагины для браузера или для редактора кода, например, **REST Client** для VS Code) и графические (**Postman**).

- В **консольных** инструментах управление запросами происходит через командную строку со всеми особенностями этого подхода.
- **Встраиваемые** инструменты — это дополнительные модули к программам. Они предоставляют графический интерфейс для работы с запросами прямо в текущем рабочем пространстве программы, в результате разработчику не приходится переключаться между приложениями.
- Инструменты **с собственным графическим интерфейсом** — это самостоятельные программы, настольные приложения.

При разработке и тестировании вашего API вам обязательно понадобится один из этих инструментов. Не спешите устанавливать все сразу, выберите приложение, которое вам больше понравится. В дальнейшем курсе примеры запросов и ответов будут показаны в интерфейсе Postman, но решение, в какой из программ работать, остаётся за вами.

Не пожалейте времени и внимательно рассмотрите ответы тех API, к которым будут отправляться тестовые запросы в этом уроке. Там можно увидеть много интересного: структуру разных JSON, принципы вложенности и именования объектов и полей — всё то, о чём был разговор в прошлом уроке.


## Тестирование API через Postman

**Postman** — популярный и удобный API-клиент, он умеет отправлять запросы и показывать ответы, сохраняет историю запросов и данные об аутентификации, позволяет проектировать и тестировать API.

Управлять запросами в Postman можно и через браузерное приложение, но для работы с локальным проектом потребуется скачать и установить программу на компьютер: работать через браузер с локальным IP 127.0.0.1 не получится, он не будет доступен.

Скачайте Postman со [страницы загрузки](https://www.postman.com/downloads/) проекта и установите его на свою рабочую машину.

### Установка Postman

![[Pasted image 20250719211906.png]]

Авторизуйтесь в приложении, это позволит работать в интерфейсе **Workspace** (системе для создания и сохранения запросов для каждого проекта по отдельности) и даст некоторые другие бонусы, например — хранение настроек и истории запросов в облаке.

### Postman Workspace

Postman может сохранять запросы, ответы, токены и другую рабочую информацию; вы в любой момент можете одним кликом отправить заранее настроенный и сохранённый запрос. При работе с несколькими проектами удобно разделять эти данные, хранить данные каждого проекта отдельно.

**Workspace** — это своего рода окружение проекта, cпособ разделить настройки разных сервисов.

Например, вы тестировали сервис с котиками, установили для него токен аутентификации, сохранили примеры запросов, всё настроили — а потом вам пришлось перейти к тестированию другого проекта, с пёсиками например.

В такой ситуации Workspace в Postman позволит просто переключиться на другое окружение и создать там другие запросы и токены, относящиеся к новому проекту.

На стартовой странице приложения выберите закладку “Workspace” и нажмите на “My Workspace” — это первое, предварительно созданное рабочее окружение. Его можно переименовать и настроить в нём запросы для своего проекта.

Главный экран делится на две части:

- слева — список сохранённых запросов и история изменений, у вас их пока нет;
- справа — рабочая область: тут можно создавать запросы и настраивать их.

Интерфейс может немного отличаться от скриншотов — это зависит от версии программы, но функциональность остаётся та же.

Чтобы создать запрос, кликните по кнопке «**+**» над рабочей областью.

### Окно настройки запроса

Здесь можно указать и отредактировать любые настройки:

- метод запроса;
- URL, по которому нужно отправить запрос;
- параметры запроса;
- заголовки запроса;
- тело запроса.

![[Pasted image 20250719212714.png]]


Теперь можно поупражняться.

У GitHub есть [отлично документированное API](https://docs.github.com/en/rest), вот туда и отправьте тестовый GET запрос на получение данных аккаунта _yandex-praktikum_:

```
 https://api.github.com/users/yandex-praktikum
```


Ответ:

```json
{
    "login": "yandex-praktikum",
    "id": 58176914,
    "node_id": "MDQ6VXNlcjU4MTc2OTE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/58176914?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yandex-praktikum",
    "html_url": "https://github.com/yandex-praktikum",
    "followers_url": "https://api.github.com/users/yandex-praktikum/followers",
    "following_url": "https://api.github.com/users/yandex-praktikum/following{/other_user}",
    "gists_url": "https://api.github.com/users/yandex-praktikum/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yandex-praktikum/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yandex-praktikum/subscriptions",
    "organizations_url": "https://api.github.com/users/yandex-praktikum/orgs",
    "repos_url": "https://api.github.com/users/yandex-praktikum/repos",
    "events_url": "https://api.github.com/users/yandex-praktikum/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yandex-praktikum/received_events",
    "type": "User",
    "site_admin": false,
    "name": null,
    "company": null,
    "blog": "",
    "location": null,
    "email": null,
    "hireable": null,
    "bio": null,
    "twitter_username": null,
    "public_repos": 6,
    "public_gists": 0,
    "followers": 90,
    "following": 0,
    "created_at": "2019-11-25T13:38:59Z",
    "updated_at": "2021-03-24T16:15:56Z"
}
```


Данные аккаунтов на Github открыты, получить их может кто угодно. Запросите данные своего аккаунта:

```
https://api.github.com/users/<ваш-логин-на-гитхабе>
```


Можно получить информацию и о конкретном репозитории в аккаунте: надо лишь [покопаться в документации](https://docs.github.com/en/rest/reference/repos#get-a-repository) и найти нужный метод.

